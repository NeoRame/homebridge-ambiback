{
    "pluginAlias": "AmbiBack",
    "pluginType": "accessory",
    "singular": true,
    "headerDisplay": "<img src='https://raw.githubusercontent.com/NeoRame/homebridge-ambiback/master/gfx/AmbiBack_Logo_Horizontal_COLOR.svg' width='50%'>\n\nAmbiBack Bridge control for HomeKit.",
    "schema": {
        "type": "object",
        "properties": {
            "name": {
                "title": "Name",
                "type": "string",
                "required": true,
                "default": "AmbiBack"
            },
            "FW": {
                "title": "Firmware",
                "type": "string",
                "required": true,
                "default": "0.4.225",
                "oneOf": [
                  { "title": "BETA Version 0.4.226", "enum": ["0.4.226"] },
                  { "title": "Latest Version 0.4.225", "enum": ["0.4.225"] },
                  { "title": "0.4.224", "enum": ["0.4.224"] },
                  { "title": "0.3.213", "enum": ["0.3.213"] }
                ]
            },
            "serialNumber": {
                "title": "Serial Number",
                "type": "string",
                "required": false,
                "minLength": 14,
                "maxLength": 14,
                "placeholder": "N30R4MER0CKZ21"
            },
            "onUrl": {
                "title": " ",
                "type": "string",
                "default": "http://192.168.0.1/setdreamscreenemulation?value=1",
                "required": true
            },
            "offUrl": {
                "title": " ",
                "type": "string",
                "default": "http://192.168.0.1/setdreamscreenemulation?value=0",
                "required": true
            },
            "statusUrl": {
                "title": " ",
                "type": "string",
                "default": "http://192.168.0.1/getparamatersasjson",
                "required": true
            },
            "switchType": {
                "title": "Switch Type",
                "type": "string",
                "default": "stateful",
                "oneOf": [
                  { "title": "Sateful", "enum": ["stateful"] }
                ],
                "required": true
            },
            "statusPattern": {
                "title": "It's Magic",
                "type": "string",
                "default": "(.|\n)*dreamscreenemulation\": \"1\"(.|\n)*,",
                "oneOf": [
                  { "title": "Secret Script ;)", "enum": ["(.|\n)*dreamscreenemulation\": \"1\"(.|\n)*,"] }
                ],
                "required": true
            }
        }
    },
    "layout": [
        "name",
        {
            "type": "flex",
            "flex-flow": "row wrap",
            "items": [
                "FW",
                "serialNumber"
            ]
        },
        {
            "type": "fieldset",
            "title": "IP Settings",
            "expandable": true,
            "expanded": true,
            "description": "Please update the Url's with the IP from your AmbiBack. IMPORTANT: Don't delete any of the other stuff!",
            "items": [
                "onUrl",
                "offUrl",
                "statusUrl"
            ]
        },
        {
            "type": "fieldset",
            "title": "Magic Settings",
            "expandable": true,
            "expanded": false,
            "items": [
                "switchType",
                "statusPattern"
            ]
        }
    ]
}
